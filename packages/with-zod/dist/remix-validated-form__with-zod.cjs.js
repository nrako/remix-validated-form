"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var h=require("remix-validated-form"),m=globalThis&&globalThis.__spreadArray||function(e,r,o){if(o||arguments.length===2)for(var t=0,n=r.length,a;t<n;t++)(a||!(t in r))&&(a||(a=Array.prototype.slice.call(r,0,t)),a[t]=r[t]);return e.concat(a||Array.prototype.slice.call(r))};function A(e,r,o){var t=e.length-r.length,n=Array.from(r);if(t===0)return e.apply(void 0,n);if(t===1){var a=function(s){return e.apply(void 0,m([s],n,!1))};return(o||e.lazy)&&(a.lazy=o||e.lazy,a.lazyArgs=r),a}throw new Error("Wrong number of arguments")}var y=Array.isArray,p=Object.keys,E=Object.prototype.hasOwnProperty;function u(){return A(_,arguments)}function _(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){var o=y(e),t=y(r),n=void 0,a=void 0,s=void 0;if(o&&t){if(a=e.length,a!==r.length)return!1;for(n=a;n--!==0;)if(!u(e[n],r[n]))return!1;return!0}if(o!==t)return!1;var l=e instanceof Date,c=r instanceof Date;if(l!==c)return!1;if(l&&c)return e.getTime()===r.getTime();var v=e instanceof RegExp,d=r instanceof RegExp;if(v!==d)return!1;if(v&&d)return e.toString()===r.toString();var i=p(e);if(a=i.length,a!==p(r).length)return!1;for(n=a;n--!==0;)if(!E.call(r,i[n]))return!1;for(n=a;n--!==0;)if(s=i[n],!u(e[s],r[s]))return!1;return!0}return e!==e&&r!==r}const g=e=>{if(e.length===0)return[];const r=e.match(/^\[(.+?)\](.*)$/)||e.match(/^\.?([^\.\[\]]+)(.*)$/);if(r){const[o,t,n]=r;return[/^\d+$/.test(t)?Number(t):t,...g(n)]}return[e]},f=e=>e.issues.flatMap(r=>"unionErrors"in r?r.unionErrors.flatMap(o=>f(o)):[r]);function w(e){return e.reduce(function(r,o){const t=r===""?"":".";return r+(isNaN(Number(o))?t+o:"["+o+"]")},"")}function T(e,r){return h.createValidator({validate:async o=>{const t=await e.safeParseAsync(o,r);if(t.success)return{data:t.data,error:void 0};const n={};return f(t.error).forEach(a=>{const s=w(a.path);n[s]||(n[s]=a.message)}),{error:n,data:void 0}},validateField:async(o,t)=>{var a;const n=await e.safeParseAsync(o,r);return n.success?{error:void 0}:{error:(a=f(n.error).find(s=>u(s.path,g(t))))==null?void 0:a.message}}})}exports.withZod=T;
//# sourceMappingURL=remix-validated-form__with-zod.cjs.js.map
