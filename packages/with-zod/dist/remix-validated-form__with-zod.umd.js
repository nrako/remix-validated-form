(function(s,f){typeof exports=="object"&&typeof module!="undefined"?f(exports,require("remix-validated-form")):typeof define=="function"&&define.amd?define(["exports","remix-validated-form"],f):(s=typeof globalThis!="undefined"?globalThis:s||self,f(s["@remix-validated-form/with-zod"]={},s.remixValidatedForm))})(this,function(s,f){"use strict";var A=globalThis&&globalThis.__spreadArray||function(e,r,a){if(a||arguments.length===2)for(var t=0,n=r.length,o;t<n;t++)(o||!(t in r))&&(o||(o=Array.prototype.slice.call(r,0,t)),o[t]=r[t]);return e.concat(o||Array.prototype.slice.call(r))};function T(e,r,a){var t=e.length-r.length,n=Array.from(r);if(t===0)return e.apply(void 0,n);if(t===1){var o=function(i){return e.apply(void 0,A([i],n,!1))};return(a||e.lazy)&&(o.lazy=a||e.lazy,o.lazyArgs=r),o}throw new Error("Wrong number of arguments")}var d=Array.isArray,v=Object.keys,w=Object.prototype.hasOwnProperty;function u(){return T(E,arguments)}function E(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){var a=d(e),t=d(r),n=void 0,o=void 0,i=void 0;if(a&&t){if(o=e.length,o!==r.length)return!1;for(n=o;n--!==0;)if(!u(e[n],r[n]))return!1;return!0}if(a!==t)return!1;var p=e instanceof Date,h=r instanceof Date;if(p!==h)return!1;if(p&&h)return e.getTime()===r.getTime();var g=e instanceof RegExp,m=r instanceof RegExp;if(g!==m)return!1;if(g&&m)return e.toString()===r.toString();var c=v(e);if(o=c.length,o!==v(r).length)return!1;for(n=o;n--!==0;)if(!w.call(r,c[n]))return!1;for(n=o;n--!==0;)if(i=c[n],!u(e[i],r[i]))return!1;return!0}return e!==e&&r!==r}const y=e=>{if(e.length===0)return[];const r=e.match(/^\[(.+?)\](.*)$/)||e.match(/^\.?([^\.\[\]]+)(.*)$/);if(r){const[a,t,n]=r;return[/^\d+$/.test(t)?Number(t):t,...y(n)]}return[e]},l=e=>e.issues.flatMap(r=>"unionErrors"in r?r.unionErrors.flatMap(a=>l(a)):[r]);function _(e){return e.reduce(function(r,a){const t=r===""?"":".";return r+(isNaN(Number(a))?t+a:"["+a+"]")},"")}function x(e,r){return f.createValidator({validate:async a=>{const t=await e.safeParseAsync(a,r);if(t.success)return{data:t.data,error:void 0};const n={};return l(t.error).forEach(o=>{const i=_(o.path);n[i]||(n[i]=o.message)}),{error:n,data:void 0}},validateField:async(a,t)=>{var o;const n=await e.safeParseAsync(a,r);return n.success?{error:void 0}:{error:(o=l(n.error).find(i=>u(i.path,y(t))))==null?void 0:o.message}}})}s.withZod=x,Object.defineProperties(s,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
//# sourceMappingURL=remix-validated-form__with-zod.umd.js.map
